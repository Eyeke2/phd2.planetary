PHD2 beta program for solar/lunar/planetary imaging
===================================================

When installing this version, it is advised to choose a destination folder distinct from the standard PHD2 installation path, so you can keep two versions at the same time.

Change log

v2.6.13-planet.dev5
* Enabled toggling between Sharpness and Radius metrics in Planetary Tracking mode, now supporting sharpness
measurements across all planet detection algorithms. Improved the Star Profile display in planetary mode by
removing irrelevant FWHM metrics.
* Removed the display of FWHM metrics in Planetary Tracking mode.
* Corrected zoom behavior in the Star Profile view.
* Enhanced the stats window with additional entries specifically relevant to planetary detection.

v2.6.13-planet.dev5.rc3
* Added an experimental noise suppression filter, potentially beneficial for detecting planetary disks
in highly noisy input images.
* Restricted the use of excessively large font sizes and updated the label to accurately reflect the planetary mode,
replacing the previous HFD label.
* Fixed a bug related to setting the lower threshold in contour detection.
* Implemented minor bug fixes and conducted code cleanup for improved stability.
* Implemented a fixed-size region for SNR determination in surface features detection mode, independent of the
Star Profile zoom factor.

v2.6.13-planet.dev5.rc2
* Star Profile Window: Adjusted the scaling factor for star profile metrics and prevented the star position
display from overlapping with the star image.
* Corrected a rounding error in saving the position of the identified planet used for guiding.
* Enhanced the robustness of surface feature tracking by restricting the switch to a new reference frame unless
the image has significantly drifted, particularly during guiding. Introduced a 'guide lock position' used to calculate
the current image displacement, which limits the transition to a new reference frame while guiding. The behavior
of the quality indicator has been modified to turn red when the image drifts too far away.
* Refined the planetary tracking dialog layout to reduce its overall size and removed the status element.
The selected tab is now automatically activated when toggling surface features detection and tracking mode on or off.
* Added types to alert messages to provide clearer visual feedback to the user.
* Remove Microsoft Visual Studio Redistributable DLL files from the installation. These DLLs are part of Microsoft
Visual C++ Redistributables for Visual Studio 2015, 2017, and 2019 and Visual Studio 2013 and must be downloaded
and installed separately by the user.

v2.6.13-planet.dev5.rc1
* Fix star profile graph and skip FWHM calculation in the planetary mode.
* Fixed focus metrics calculation by increasing sampling area and droping sharpness normalization.

v2.6.13-planet.dev4
* Major Bugfix: fix a long standing bug in handling of 8-bit mode camera images.
* Surface Features Detection: replace feature size metrics in Star Profile by measure of sharpness in a small ROI
around the tracked point.
* Image Zoom in Star Profile: when in Surface Feature Tracking mode the zoom factor is controlled by a mouse wheel.
Also, a mouse L-click while holding the Alt key will reset the zoom factor to its default level.

v2.6.13-planet.dev4.rc3
* Fix image detection code which has a potential to solve problems reported by ASI cameras users.
There could be still some issues remaining with ASI devices in Windows 11, which aren't related to PHD2.
* Star Profile Window: replace HFD metrics by planet radius or surface feature size. Surface feature size is
calculated on the feature point nearest to the tracking.
* Star Profile: show HFD or planetary metrics without clipping displayed information whenever possible.
In cases where the nearest feature is too distant from the tracking position, a value of 999.99 will be shown.
* Limit displaying tracking selection symbols (green circle or target lock symbol) and min/max radii hints only
when capturing is active.
* Treat full pause of capture as stop capture to decide when to draw tracking symbols and min/max radii.
* Tracking symbols and min/max radii: revert one of recent changes related to drawing min/max circles and radii
and prefer thin lines/circles which look cleaner and still visible.

v2.6.13-planet.dev4.rc2
* Introduce maximum limit of detected surface features used for tracking.
* Use PHD2 alerts to draw attention in cases which require user's response in planetary tracking mode.
* Adding display of circles with min/max radii as visualization aid.
* Fix handling of star auto select in planetary mode.
* Prevent resizing of rows and columns in stats grids as protection against inadvertent change of cell size by the user.
* Fix few cases of uninitialized variables.

v2.6.13-planet.dev4.rc1
* Bug fixes in Star Profile display.
* Test actual change in minHessian parameter which affects logic of reference frame selection.
* Minor code changes and cleanup.
* Using background stats around star diameter for mass calculations is relevant only for star tracking mode
or circles detection mode in planetary mode.
* Fix an issue with a color of text message displayed in the Star Profile window.
* Use correct variable holding filtered key points for calculating new centroid in surface feature detection mode.
* Increase size of tiny crosshairs by few extra pixels to make it more visible. On 4K screens it was hardly visible.
* Correct the computation of the small crosshairs' position at the star centroid. The previous code incorrectly
calculated the scaling factor due to the division of integers without converting to floating-point, leading to
the small crosshairs being displayed several pixels away from their true position in certain cases.
* Micro-optimization: use longer time period while waiting for thread to terminate.
* Add assert verifying that the non-free OpenCV components are available, required for surface feature detection.

v2.6.13-planet.dev3
* Enhanced Target Lock symbols: introduced color-coded target lock symbols for surface feature tracking to indicate tracking quality.
A green symbol indicates high-quality tracking, while a red symbol signals that the quality has decreased. Initially, tracking will
start with a red symbol, which will change based on ongoing tracking performance.
* Improved Tracking Sensitivity Adjustment: allow dynamic adjusting of the sensitivity threshold for surface feature detection without
disrupting the tracking process.
* Refined Tracking Logic: the system now adapts more intelligently to changes in detected features, which results in more accurate
tracking and a more stable guiding.
* Inverted the feature tracking sensitivity values for more intuitive control, and updated the tooltips to reflect this change.
* Enhanced Detection and Tracking by filtering out low-quality surface features.
* Dynamic Margin for Surface Feature Exclusion: dynamically adjust the margin that excludes features close to the frame edges.
This allows for greater flexibility and accuracy in finding matches across frames.
* Update Main Toolbar size to reflect its actual dimensions, which may happen due to adding/removing buttons.
* Optimized timeout management and enhanced responsiveness during circle detection in Non-Eclipse mode.
* Fixed and cleaned up the code resetting all parameters to default values.
* Code refactoring and cleanup.

v2.6.13-planet.dev3.rc3
* Add initial support for surface feature detection and tracking.
* Change layout of control dialogue to a minimalistic style and allow resetting dialogue position when user holds down any of the keys
ALT/CTRL/SHIFT while clicking the Planetary Tool button. This can be useful in cases where dialogue window moves out of the view.
* Internal code refactoring and synchronizing data shared among threads.

v2.6.13-planet.dev3.rc2
* Stop detection when an excessive number of contour points are identified, in order to prevent high CPU usage.
User is advised to increase the edge threshold or enable ROI to mitigate this issue.
* Add planet detection time and number of contour points/circles to the stats display.
* Internal code refactoring and cleanup.
* Fixed a bug related to memory management.

v2.6.13-planet.dev3.rc1
* Rebased onto PHD2 master branch.

v2.6.13-planet.dev2
* Show active ROI region upon activation and improve planetary detection within ROI, enhancing robustness against sudden target jumps or gradual drift.
* Save/restore dialog box position on screen.
* Cherry-picked a bug fix from the master branch to address an application crash caused by an inaccessible pointer.

v2.6.13-planet.dev1
* Rebased onto the latest v2.6.13dev1 version from the main PHD2 repository.
* Significantly improved the eclipse detection algorithm, resulting in higher accuracy while using multithreading for faster processing.
* Added a keyboard shortcut (Ctrl-P) and a new tool icon for direct access to the Planetary Tracking control dialogue.
* Eclipse mode is now the default method for detecting solar/lunar disks, offering enhanced performance, with the standard mode available as a fallback.
* Removed the low edge threshold control from the UI.
* Added a checkbox for toggling the visibility of internally detected edges/circles, serving as a visual aid for tuning planetary detection parameters.
* Implemented stability improvements and addressed various bug fixes.

v2.6.12-planetary.6
* The user must either use Auto-select star or click on the solar/lunar disk to select it.
* Improved UI elements and status display at the bottom line.
* Improved handling of cases where circle recognition exceeds the processing time - exposure looping stops,
prompting the user to adjust param1 and param2 to avoid future delays.
* Saving selected eclipse mode in global settings.

v2.6.12-planetary.5
* Added smarter algorithm to find eclipse center.
* Added an option for ROI to optimize CPU usage.
* Fix all-white display issue for captured frames with low contrast.